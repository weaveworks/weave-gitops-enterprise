#!/bin/bash

set -e

GOPATH=$(go env GOPATH)
if [ ! -x "${GOPATH}/bin/golangci-lint" ]; then
    curl -sfL https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh | sh -s -- -b "${GOPATH}/bin" v1.42.1
fi

"${GOPATH}/bin/golangci-lint" run \
    --verbose \
    --enable=misspell \
    --enable=gofmt \
    --timeout=15m \
    ./...
