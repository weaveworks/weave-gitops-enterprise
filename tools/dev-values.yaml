policy-agent:
  enabled: true
  # maybe we disable the policy-agent with tilt so ignore timeouts etc
  failurePolicy: Ignore
  config:
    accountId: "weaveworks"
    clusterId: "tilt-cluster"

config:
  logLevel: debug
  # un-comment to disable auth
  # auth:
  #   noAuthentication:
  #     user: "wego-admin"
  #
  # un-comment to enable OIDC against dex-01
  # oidc:
  #   enabled: true
  #   issuerURL: "https://dex-01.wge.dev.weave.works"
  #   redirectURL: "http://localhost:3000/oauth2/callback"
  #   clientCredentialsSecret: "oidc-auth"

tls:
  enabled: false

# Turns on pipelines features when using Tilt.
enablePipelines: true

# Turns on explorer globally. See the explorer.enabledFor option to enable it for specific components.
explorer:
  enabledFor:
    - applications
    - sources
    - gitopssets
    - templates
    - clusterdiscovery

# Turns on terraform UI features for local dev
enableTerraformUI: true

extraEnvVars:
  - name: WEAVE_GITOPS_FEATURE_COST_ESTIMATION
    value: ""
  - name: WEAVE_GITOPS_FEATURE_TELEMETRY
    value: "false"
  - name: BITBUCKET_SERVER_HOSTNAME
    value: "bitbucket.yiannis.net"
  - name: ROUTE_PREFIX
    value: /weave-gitops-enterprise

extraEnvVarsSecret: ""

# Turns on UI elements for GitOps Run
enableRunUI: true

gitopssets-controller:
  enabled: true

cluster-reflector-controller:
  enabled: true

# Re-clarify capiEnabled
global:
  capiEnabled: true

enableNewPipelines: true

# Enable ingress running under a path
# Note:
# Run ./tools/kind-with-ingress.sh # create a kind cluster with ingress
# Open http://localhost:30080/weave-gitops-enterprise # access the weave-gitops-enterprise app
ingress:
  enabled: true
  hosts:
    - host: ""
      paths:
        - path: /weave-gitops-enterprise
          pathType: Prefix
